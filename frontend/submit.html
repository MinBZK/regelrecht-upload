<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nieuwe Inzending - RegelRecht Upload Portal</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <header class="header">
    <div class="header-content">
      <a href="/" class="logo">
        <span class="logo-text">RegelRecht</span>
        <span class="logo-subtitle">Upload Portal</span>
      </a>
      <nav class="nav-links">
        <a href="/submit.html">Nieuwe inzending</a>
        <a href="/faq.html">FAQ</a>
        <a href="/privacy.html">Privacy</a>
      </nav>
    </div>
  </header>

  <main class="main">
    <h1 class="page-title">Nieuwe Inzending</h1>
    <p class="page-subtitle">Vul onderstaand formulier in om uw documenten in te dienen</p>

    <div id="status-message" class="status-message" style="display: none;"></div>

    <!-- Step indicators -->
    <div class="steps">
      <div class="step active" data-step="1">
        <div class="step-number">1</div>
        <div class="step-title">Contactgegevens</div>
      </div>
      <div class="step" data-step="2">
        <div class="step-number">2</div>
        <div class="step-title">Documenten</div>
      </div>
      <div class="step" data-step="3">
        <div class="step-number">3</div>
        <div class="step-title">Planning</div>
      </div>
    </div>

    <!-- Step 1: Contact Information -->
    <div id="step-1" class="card">
      <h2 class="card-title">Uw gegevens</h2>

      <div class="form-group">
        <label class="form-label required">Naam</label>
        <rr-text-field id="submitter_name" name="submitter_name" placeholder="Uw volledige naam" required></rr-text-field>
      </div>

      <div class="form-group">
        <label class="form-label">E-mailadres</label>
        <rr-text-field id="submitter_email" name="submitter_email" type="email" placeholder="uw.email@organisatie.nl"></rr-text-field>
        <span class="form-hint">Optioneel, voor statusupdates</span>
      </div>

      <div class="form-group">
        <label class="form-label required">Organisatie</label>
        <rr-text-field id="organization" name="organization" placeholder="Naam van uw organisatie" required></rr-text-field>
      </div>

      <div class="form-group">
        <label class="form-label">Afdeling</label>
        <rr-text-field id="organization_department" name="organization_department" placeholder="Optioneel"></rr-text-field>
      </div>

      <div class="form-group" style="margin-top: 24px;">
        <label class="checkbox-label">
          <input type="checkbox" id="consent_privacy" required>
          <span>Ik heb de <a href="/privacy.html" target="_blank">privacyverklaring</a> gelezen en ga akkoord met de verwerking van mijn gegevens voor de PoC implementatie.</span>
        </label>
      </div>

      <div class="form-group">
        <label class="checkbox-label">
          <input type="checkbox" id="consent_documents" required>
          <span>Ik geef toestemming voor het gebruik van de door mij geüploade documenten voor het RegelRecht onderzoeksproject.</span>
        </label>
      </div>

      <div class="button-group">
        <rr-button variant="primary" id="btn-next-1">Volgende</rr-button>
      </div>
    </div>

    <!-- Step 2: Documents -->
    <div id="step-2" class="card" style="display: none;">
      <h2 class="card-title">Documenten uploaden</h2>

      <!-- Add formal law link -->
      <div class="card" style="background: var(--color-slate-50); margin-bottom: 20px;">
        <h3 style="font-size: 1rem; margin-bottom: 12px;">Formele wet toevoegen</h3>
        <div class="form-group">
          <label class="form-label">Link naar wetten.overheid.nl</label>
          <rr-text-field id="formal_law_url" placeholder="https://wetten.overheid.nl/..."></rr-text-field>
        </div>
        <div class="form-group">
          <label class="form-label">Titel (optioneel)</label>
          <rr-text-field id="formal_law_title" placeholder="Naam van de wet"></rr-text-field>
        </div>
        <rr-button variant="secondary" id="btn-add-law">Link toevoegen</rr-button>
      </div>

      <!-- Upload other documents -->
      <div class="card" style="background: var(--color-slate-50);">
        <h3 style="font-size: 1rem; margin-bottom: 12px;">Document uploaden</h3>

        <div class="form-group">
          <label class="form-label required">Categorie</label>
          <rr-select-field id="doc_category" required>
            <option value="">Selecteer categorie...</option>
            <option value="circular">Circulaire</option>
            <option value="implementation_policy">Uitvoeringsbeleid</option>
            <option value="work_instruction">Werkinstructie</option>
          </rr-select-field>
        </div>

        <div class="form-group">
          <label class="form-label required">Classificatie</label>
          <rr-select-field id="doc_classification" required>
            <option value="">Selecteer classificatie...</option>
            <option value="public">Publiek - Mag gepubliceerd worden</option>
            <option value="claude_allowed">Claude toegestaan - Mag met AI worden gebruikt</option>
            <option value="restricted">Beperkt - Niet met AI gebruiken</option>
          </rr-select-field>
        </div>

        <div id="classification-warning" style="display: none;">
          <rr-help-text variant="error">
            <strong>Let op:</strong> Documenten met classificatie "Beperkt" kunnen niet worden geupload naar dit portaal.
            Deze documenten mogen niet worden gebruikt met AI-tools. Selecteer een andere classificatie of upload dit document niet.
          </rr-help-text>
        </div>

        <div id="upload-area" class="form-group">
          <label class="form-label">Bestand</label>
          <rr-file-upload id="doc_file"></rr-file-upload>
        </div>

        <rr-button variant="secondary" id="btn-upload-doc" disabled>Document uploaden</rr-button>
      </div>

      <!-- Uploaded documents list -->
      <h3 style="font-size: 1rem; margin: 20px 0 12px;">Toegevoegde documenten</h3>
      <div id="document-list" class="document-list">
        <p style="color: var(--color-slate-500); text-align: center; padding: 20px;">
          Nog geen documenten toegevoegd
        </p>
      </div>

      <div class="button-group">
        <rr-button variant="secondary" id="btn-back-2">Terug</rr-button>
        <rr-button variant="primary" id="btn-next-2">Volgende</rr-button>
      </div>
    </div>

    <!-- Step 3: Schedule meeting -->
    <div id="step-3" class="card" style="display: none;">
      <h2 class="card-title">Gesprek inplannen</h2>

      <rr-help-text variant="info">
        Plan een gesprek in om de resultaten van de verkenning te bespreken. Het is nuttig als inhoudelijk juridische experts aanschuiven.
      </rr-help-text>

      <div id="available-slots" style="margin-top: 20px;">
        <p style="color: var(--color-slate-500);">Beschikbare tijdsloten worden geladen...</p>
      </div>

      <div class="button-group">
        <rr-button variant="secondary" id="btn-back-3">Terug</rr-button>
        <rr-button variant="primary" id="btn-submit">Inzending afronden</rr-button>
      </div>
    </div>

    <!-- Success message -->
    <div id="step-success" class="card" style="display: none; text-align: center;">
      <div style="font-size: 4rem; margin-bottom: 16px;">✓</div>
      <h2 class="card-title">Inzending succesvol!</h2>
      <p style="margin-bottom: 16px;">Uw inzending is ontvangen. U kunt de status volgen met onderstaande referentie:</p>
      <div style="background: var(--color-slate-100); padding: 16px; border-radius: 8px; font-family: monospace; font-size: 1.25rem;" id="submission-slug"></div>
      <p style="margin-top: 16px; color: var(--color-slate-600);">Bewaar deze referentie om uw inzending later op te kunnen vragen.</p>
      <div class="button-group" style="justify-content: center; margin-top: 24px;">
        <a href="/"><rr-button variant="primary">Terug naar home</rr-button></a>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="footer-content">
      <span>&copy; 2024 Ministerie van Binnenlandse Zaken en Koninkrijksrelaties</span>
      <nav class="footer-links">
        <a href="/privacy.html">Privacyverklaring</a>
        <a href="/faq.html">FAQ</a>
      </nav>
    </div>
  </footer>

  <script type="module" src="/webcomponents/index.js"></script>
  <script type="module" src="/js/submit.js"></script>
</body>
</html>
